{% extends 'base.html' %}
{% load static %}

{% block title %}Admin Dashboard - Paws a Moment Rescue{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 40px auto; padding: 20px;">
    <h1>Admin Dashboard</h1>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px;">
        <div style="background: #f5f5f5; padding: 20px; border-radius: 8px;">
            <h3>Animals</h3>
            <p><strong>Total:</strong> {{ total_animals }}</p>
            <p><strong>Available:</strong> {{ available_animals }}</p>
            <p><strong>Adopted:</strong> {{ adopted_animals }}</p>
            <p><strong>Adopted This Month:</strong> {{ adopted_this_month }}</p>
        </div>
        
        <div style="background: #f5f5f5; padding: 20px; border-radius: 8px;">
            <h3>Adoption Applications</h3>
            <p><strong>Total:</strong> {{ total_adoption_apps }}</p>
            <p><strong>This Month:</strong> {{ adoption_apps_this_month }}</p>
            <p><strong>Unprocessed:</strong> {{ unprocessed_adoption_apps }}</p>
        </div>
        
        <div style="background: #f5f5f5; padding: 20px; border-radius: 8px;">
            <h3>Foster Applications</h3>
            <p><strong>Total:</strong> {{ total_foster_apps }}</p>
            <p><strong>This Month:</strong> {{ foster_apps_this_month }}</p>
            <p><strong>Unprocessed:</strong> {{ unprocessed_foster_apps }}</p>
        </div>
        
        <div style="background: #f5f5f5; padding: 20px; border-radius: 8px;">
            <h3>Site Statistics</h3>
            <p><strong>Total Visits:</strong> {{ total_visits }}</p>
            <p><strong>Visits This Month:</strong> {{ visits_this_month }}</p>
            <p><strong>Unique Visitors:</strong> {{ unique_visitors_this_month }}</p>
        </div>
    </div>
    
    <div style="margin-top: 40px;">
        <h2>Most Viewed Animals</h2>
        <ul>
            {% for animal in most_viewed %}
            <li>{{ animal.animal_name }} - {{ animal.view_count }} views</li>
            {% endfor %}
        </ul>
    </div>
    
    <div style="margin-top: 40px;">
        <h2>CSV Exports</h2>
        <a href="{% url 'dashboard:export_csv' 'animals' %}" class="btn-link">Export Animals</a>
        <a href="{% url 'dashboard:export_csv' 'adoption_applications' %}" class="btn-link">Export Adoption Applications</a>
        <a href="{% url 'dashboard:export_csv' 'foster_applications' %}" class="btn-link">Export Foster Applications</a>
        <a href="{% url 'dashboard:export_csv' 'contact_messages' %}" class="btn-link">Export Contact Messages</a>
        <a href="{% url 'dashboard:export_csv' 'news' %}" class="btn-link">Export News Articles</a>
    </div>
</div>
{% endblock %}

